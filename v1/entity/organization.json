{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://schemas.hackfed.org/v1/entity/organization.json",
  "title": "Hackfed Organization",
  "description": "Complete organization entity definition for Hackfed registry",
  "type": "object",
  "required": [
    "apiVersion",
    "kind",
    "metadata",
    "spec"
  ],
  "properties": {
    "apiVersion": {
      "type": "string",
      "description": "API version identifier",
      "const": "hackfed/v1"
    },
    "kind": {
      "type": "string",
      "description": "Resource type",
      "const": "Organization"
    },
    "metadata": {
      "type": "object",
      "description": "Metadata about the organization",
      "properties": {
        "orgId": {
          "$ref": "https://schemas.hackfed.org/v1/base/orgId.json",
          "description": "Identifier of the organization owning this resource"
        }
      },
      "required": [
        "orgId"
      ]
    },
    "spec": {
      "type": "object",
      "description": "Organization specification",
      "properties": {
        "id": {
          "$ref": "https://schemas.hackfed.org/v1/base/orgId.json",
          "description": "Organization ID (must match metadata.orgId)"
        },
        "name": {
          "type": "string",
          "description": "Human-readable organization name",
          "minLength": 4,
          "maxLength": 64
        },
        "services": {
          "type": "object",
          "description": "Services provided by the organization",
          "properties": {
            "about": {
              "$ref": "https://schemas.hackfed.org/v1/service/about.json",
              "description": "Organization contact information"
            },
            "access": {
              "$ref": "https://schemas.hackfed.org/v1/service/access.json",
              "description": "Access control and maintainers"
            },
            "nebula": {
              "$ref": "https://schemas.hackfed.org/v1/service/nebula.json",
              "description": "Nebula VPN configuration"
            },
            "telephony": {
              "$ref": "https://schemas.hackfed.org/v1/service/telephony.json",
              "description": "Telephony service configuration"
            }
          }
        }
      },
      "required": [
        "id",
        "name"
      ],
      "additionalProperties": false
    }
  }
}